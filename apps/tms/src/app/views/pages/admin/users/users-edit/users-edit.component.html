<b404-portlet>
  <b404-portlet-header [sticky]="true" [title]="getComponentTitle()" [class]="'b404-portlet__head--lg'"
    [viewLoading$]="loading$">
    <ng-container ktPortletTools>
      <a (click)="goBackWithoutId()" class="btn btn-secondary b404-margin-r-10" mat-raised-button
        matTooltip="{{'MODULE.GO_BACK' | b404Translate:translateParams}}">
        <i class="la la-arrow-left"></i>
        <span class="b404-hidden-mobile">{{'GENERAL.BUTTONS.BACK' | b404Translate}}</span>
      </a>
      <a href="javascript:;" class="btn btn-secondary b404-margin-r-10" (click)="reset()" [disabled]="selectedTab !== 0"
        mat-raised-button matTooltip="{{'GENERAL.BUTTONS.RESET_FORM' | b404Translate}}">
        <i class="la la-cog"></i>
        <span class="b404-hidden-mobile">{{'GENERAL.BUTTONS.RESET' | b404Translate}}</span>
      </a>
      <a href="javascript:;" class="btn btn-primary b404-margin-r-10" color="primary" (click)="onSumbit(false)"
        mat-raised-button matTooltip="{{'GENERAL.BUTTONS.SAVE_FORM' | b404Translate}}">
        <span class="b404-hidden-mobile">{{'GENERAL.BUTTONS.SAVE' | b404Translate}}</span>
      </a>
    </ng-container>
  </b404-portlet-header>

  <b404-portlet-body>

    <div *ngIf="user">
      <!--begin::Form-->
      <form [formGroup]="userForm" class="b404-form b404-form--group-seperator-dashed" autocomplete="off">

        <b404-alert *ngIf="hasFormErrors" type="warn" [showCloseButton]="true" [duration]="10000"
          (close)="onAlertClose($event)">
          {{'GENERAL.TEXT.OH_SNAP_CREATE' | b404Translate}}
        </b404-alert>

        <div class="b404-form__section b404-form__section--first">
          <div class="b404-form__group">
            <div class="row">
              <div class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{ 'AUTH.INPUT.EMAIL' | b404Translate }}</mat-label>
                  <input matInput type="email" placeholder="{{ 'AUTH.INPUT.EMAIL' | b404Translate }}"
                    formControlName="email" autocomplete="off" />
                  <mat-error *ngIf="controlHasError(userForm, 'email','required')">
                    <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | b404Translate }}</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'email','email')">
                    <strong>{{ 'AUTH.VALIDATION.INVALID_FIELD' | b404Translate }}</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'email','minlength')">
                    <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | b404Translate }} 3</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'email','maxlength')">
                    <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | b404Translate }} 320</strong>
                  </mat-error>
                </mat-form-field>
              </div>

              <div *ngIf="!user.id" class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{ 'AUTH.INPUT.PASSWORD' | b404Translate }}</mat-label>
                  <input matInput type="password" placeholder="{{ 'AUTH.INPUT.PASSWORD' | b404Translate }}"
                    formControlName="password" autocomplete="off" />
                  <mat-error *ngIf="controlHasError(userForm, 'password','required')">
                    <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | b404Translate }}</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'password','minlength')">
                    <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | b404Translate }} 3</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'password','maxlength')">
                    <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | b404Translate }} 100</strong>
                  </mat-error>
                </mat-form-field>
              </div>

              <div *ngIf="!user.id" class="col-md-4 b404-margin-bottom-10-mobile">
                <mat-form-field appearance="outline" class="mat-form-field-fluid">
                  <mat-label>{{ 'AUTH.INPUT.CONFIRM_PASSWORD' | b404Translate }}</mat-label>
                  <input matInput type="password" placeholder="{{ 'AUTH.INPUT.CONFIRM_PASSWORD' | b404Translate }}"
                    formControlName="confirmPassword" autocomplete="off" />
                  <mat-error *ngIf="controlHasError(userForm, 'confirmPassword','required')">
                    <strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | b404Translate }}</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'confirmPassword','minlength')">
                    <strong>{{ 'AUTH.VALIDATION.MIN_LENGTH_FIELD' | b404Translate }} 3</strong>
                  </mat-error>
                  <mat-error *ngIf="controlHasError(userForm, 'confirmPassword','maxlength')">
                    <strong>{{ 'AUTH.VALIDATION.MAX_LENGTH_FIELD' | b404Translate }} 100</strong>
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('confirmPassword').errors && userForm.get('confirmPassword').errors.ConfirmPassword">
                    <strong>Passsword and ConfirmPassword didn't match.</strong>
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </b404-portlet-body>
</b404-portlet>